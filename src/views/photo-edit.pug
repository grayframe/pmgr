extends layout

block content
  .container.mx-auto.px-4.py-8
    .max-w-2xl.mx-auto
      .bg-white.rounded-lg.shadow-lg.p-6
        h1.text-3xl.font-bold.text-gray-900.mb-6 Edit Photo

        form(action=`/photos/${photo.id}` method="POST")
          input(type="hidden" name="_method" value="PUT")
          
          //- Title
          .mb-4
            label.block.text-sm.font-medium.text-gray-700(for="title") Title
            input#title.w-full.mt-1.rounded-md.border-gray-300.shadow-sm.focus:border-blue-500.focus:ring-blue-500(type="text" name="title" value=photo.title required)

          //- Description
          .mb-4
            label.block.text-sm.font-medium.text-gray-700(for="description") Description
            textarea#description.w-full.mt-1.rounded-md.border-gray-300.shadow-sm.focus:border-blue-500.focus:ring-blue-500(rows="4" name="description")= photo.description

          //- Photo Preview
          .mb-6
            label.block.text-sm.font-medium.text-gray-700.mb-2 Current Photo
            img.w-full.h-64.object-cover.rounded-lg(src=photo.url alt=photo.title)

          //- Albums
          .mb-6
            label.block.text-sm.font-medium.text-gray-700.mb-2 Albums
            .space-y-2
              each album in albums
                .flex.items-center
                  input(type="checkbox" name="albums[]" value=album.id id=`album-${album.id}` checked=photo.albums.some(a => a.id === album.id))
                  label.ml-2.text-sm.text-gray-700(for=`album-${album.id}`)= album.name

          //- Submit Buttons
          .flex.justify-end.space-x-4
            a.bg-gray-500.hover:bg-gray-600.text-white.font-semibold.py-2.px-4.rounded(href=`/photos/${photo.id}`)
              | Cancel
            button.bg-blue-500.hover:bg-blue-600.text-white.font-semibold.py-2.px-4.rounded(type="submit")
              | Save Changes

block scripts
  script.
    // Add any client-side validation or enhancement here 